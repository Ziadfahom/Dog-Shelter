<!-- "Delete Observation" Confirmation Modal -->
<div class="modal fade" id="deleteObservationModal" tabindex="-1" aria-labelledby="deleteObservationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteObservationModalLabel">Confirm Observation Deletion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this Observation? This action cannot be undone.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmObservationDeleteBtn">Delete</button>
      </div>
    </div>
  </div>
</div>

<!-- "Delete Dog Stance" Confirmation Modal -->
<div class="modal fade" id="deleteStanceModal" tabindex="-1" aria-labelledby="deleteStanceModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteStanceModalLabel">Confirm Stance Deletion</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this Dog Stance? This action cannot be undone.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmStanceDeleteBtn">Delete</button>
      </div>
    </div>
  </div>
</div>

<!-- "Delete Dog Stance" Confirmation Modal -->
<div class="modal fade" id="addDogStanceModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add a New Dog Stance</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="dogStanceForm">
                    <!-- CSRF Token -->
                    {% csrf_token %}

                    <!-- Hidden input to hold the Observation ID Field -->
                    <input type="hidden" id="observation_id" name="observation_id">

                    <!-- Time Field -->
                    {{ stance_form.stanceStartTime.label_tag }}
                    <input class="form-control" type="text" id="timepicker" name="stanceStartTime" placeholder="Select Time">


                    <!-- Dog Stance Field -->
                    {{ stance_form.dogStance.label_tag }}
                    {{ stance_form.dogStance }}

                    <!-- Dog Location Field -->
                    {{ stance_form.dogLocation.label_tag }}
                    {{ stance_form.dogLocation }}
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="saveDogStanceBtn">Save</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Dog Stance Modal -->
<div class="modal fade" id="editStanceModal" tabindex="-1" aria-labelledby="editStanceModalLabel" aria-hidden="true">
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header text-center bg-primary">
            <h3 class="modal-title w-100" id="editObservationModalLabel">Edit Stance</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="modal-body" style="padding-bottom: 0;">

                    {% if stance_form.stanceStartTime.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ stance_form.stanceStartTime.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                    <label for="timepicker">Stance Start Time:</label>
                    <input class="form-control" type="text" id="timepicker" name="stanceStartTime" value="{{ stance_form.stanceStartTime.value|format_time }}">
                    </div>


                    {% if stance_form.dogStance.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ stance_form.dogStance.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="currentStance">Stance:</label>
                        <select id="currentStance" class="form-control" name="{{ stance_form.dogStance.name }}">
                            {% for value, display in stance_form.dogStance.field.choices %}
                                <option value="{{ value }}" {% if stance_form.dogStance.value == value %}selected{% endif %}>{{ display }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    {% if stance_form.dogLocation.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ stance_form.dogLocation.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="dogLocation">Location:</label>
                        <select id="dogLocation" class="form-control" name="{{ stance_form.dogLocation.name }}">
                            {% for value, display in stance_form.dogLocation.field.choices %}
                                <option value="{{ value }}" {% if stance_form.dogLocation.value == value %}selected{% endif %}>{{ display }}</option>
                            {% endfor %}
                        </select>
                    </div>

            </div>
            <div class="modal-footer" style="padding-top: 0;">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save</button>
            </div>
        </form>
    </div>
</div>
</div>


<!-- Add New Observation Modal -->
{% include 'modals/observations/__add_observation_modal.html' %}
<div class="modal fade" id="newObservationModal" tabindex="-1" aria-labelledby="newObservationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary">
                <h3 class="modal-title w-100" id="newObservationModalLabel">Add New Observation</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="modal-body" style="padding-bottom: 0;">
                    {% if observation_form.obsDateTime.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ observation_form.obsDateTime.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="datetimepicker">Observation Date/Time:</label>
                        <input type="text" id="datetimepicker" class="form-control" name="{{ observation_form.obsDateTime.name }}" value="{{ observation_form.obsDateTime.value }}">
                    </div>
                    {% if observation_form.sessionDurationInMins.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ observation_form.sessionDurationInMins.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="sessionDuration">Session Duration (Minutes):</label>
                        <input type="number" id="sessionDuration" class="form-control" name="{{ observation_form.sessionDurationInMins.name }}" value="{{ observation_form.sessionDurationInMins.value }}">
                    </div>
                    {% if observation_form.isKong.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ observation_form.isKong.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="kong-status">Kong Toy Used:</label>
                        <select id="kong-status" class="form-control" name="{{ observation_form.isKong.name }}">
                            {% for value, display in observation_form.isKong.field.choices %}
                                <option value="{{ value }}" {% if observation_form.isKong.value == value %}selected{% endif %}>{{ display }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {% if observation_form.jsonFile.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ observation_form.jsonFile.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="json-upload">Upload JSON File:</label>
                        <input type="file" id="json-upload" class="form-control-file" name="{{ observation_form.jsonFile.name }}" value="{{ observation_form.jsonFile.value }}">
                    </div>
                    {% if observation_form.rawVideo.errors %}
                        <div class="form-error-row">
                            <span class="text-danger form-error">{{ observation_form.rawVideo.errors }}</span>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <label for="video-upload">Upload Raw Video:</label>
                        <input type="file" id="video-upload" class="file_multi_video" name="{{ observation_form.rawVideo.name }}" value="{{ observation_form.rawVideo.value }}">
                        <label for="video_here">Video Preview:</label>
                        <video width="400" controls>
                            <source src="mov_bbb.mp4" id="video_here">
                            Your browser does not support HTML5 video.
                        </video>
                    </div>
                </div>

                <div class="modal-footer" style="padding-top: 0;">

                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- "Delete Treatment" Confirmation Modal -->
<div class="modal fade" id="deleteTreatmentModal" tabindex="-1" aria-labelledby="deleteTreatmentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteTreatmentModalLabel">Confirm Treatment Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this Treatment? This action cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmTreatmentDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- "Delete Examination" Confirmation Modal -->
<div class="modal fade" id="deleteExaminationModal" tabindex="-1" aria-labelledby="deleteExaminationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteExaminationModalLabel">Confirm Examination Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this Examination? This action cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmExaminationDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- "Delete DogPlacement" Confirmation Modal -->
<div class="modal fade" id="deletePlacementModal" tabindex="-1" aria-labelledby="deletePlacementModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deletePlacementModalLabel">Confirm Placement Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this Placement? This action cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmPlacementDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- "Delete Session" Confirmation Modal -->
<div class="modal fade" id="deleteSessionModal" tabindex="-1" aria-labelledby="deleteSessionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteSessionModalLabel">Confirm Session Deletion</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this Session? This action cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmSessionDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>